<section class="dashboard">
  <h2 class="dash-title">Upload Video</h2>

  <div
    class="drop-wrapper"
    [class.dragging]="dragging"
    (dragenter)="onDragEnter($event)"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onDrop($event)"
  >
    <div class="inner" (click)="fileInput.click()">
      <div class="icon">⬆</div>
      <p class="hint">Drag & drop a file here, or click to upload</p>
      <button type="button" class="browse-btn">Browse</button>
      <input
        #fileInput
        type="file"
        accept="video/*"
        (change)="onFileChange($event)"
        hidden
      />
    </div>
    <div class="selected" *ngIf="selectedFile">
      <span>{{ selectedFile.name }}</span>
      <button
        type="button"
        class="clear"
        (click)="selectedFile = null; title = ''"
      >
        ✕
      </button>
    </div>
  </div>

  <div class="title-row" *ngIf="selectedFile">
    <input type="text" placeholder="Video title" [(ngModel)]="title" />
    <button
      class="btn btn-primary"
      (click)="upload()"
      [disabled]="uploading || !title.trim()"
    >
      {{ uploading ? "Uploading…" : "Upload" }}
    </button>
  </div>

  <div class="error" *ngIf="uploadError">{{ uploadError }}</div>
</section>
